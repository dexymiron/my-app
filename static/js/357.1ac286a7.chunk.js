"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[357],{6357:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var t=a(5043),r=a(3003),c=a(3959);const l="ChatPage_chatContainer__vb+l8",n="ChatPage_messageList__DA+lK",h="ChatPage_messageItem__wtZ5L",o="ChatPage_messageContent__E3aJh",i="ChatPage_userName__mA8fv",d="ChatPage_textMessage__eNhh7",g="ChatPage_addMessageForm__w5UoV",m="ChatPage_textareaContainer__PUIyc",_="ChatPage_textarea__p7B6P",u="ChatPage_sendButton__adlgv";var p=a(579);const x=()=>{const e=(0,r.wA)(),s=(0,r.d4)((e=>e.chat.chatStatus));return(0,t.useEffect)((()=>(setTimeout((()=>e((0,c._E)())),500),()=>{e((0,c.Ui)())})),[e]),(0,p.jsxs)("div",{className:l,children:["error"===s&&(0,p.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v,{}),(0,p.jsx)(C,{chatStatus:s})]})]})},v=()=>{const e=(0,r.d4)((e=>e.chat.messages)),s=(0,t.useRef)(null),[a,c]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{var e;a&&(null===(e=s.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"}))}),[e]),(0,p.jsxs)("div",{className:n,onScroll:e=>{const s=e.currentTarget;Math.abs(s.scrollHeight-s.scrollTop-s.clientHeight)<300?!a&&c(!0):a&&c(!1)},children:[e.map(((e,s)=>(0,p.jsx)(j,{message:e},e.id))),(0,p.jsx)("div",{ref:s})]})},j=t.memo((e=>{let{message:s}=e;return(0,p.jsxs)("div",{className:h,children:[(0,p.jsx)("img",{src:s.photo||"https://e7.pngegg.com/pngimages/277/396/png-clipart-computer-icons-user-profile-person-heroes-black.png",alt:"UserAvatar"}),(0,p.jsxs)("div",{className:o,children:[(0,p.jsx)("p",{className:i,children:s.userName}),(0,p.jsx)("p",{className:d,children:s.message})]})]})})),C=e=>{let{chatStatus:s}=e;const[a,l]=(0,t.useState)(""),n=(0,r.wA)();return(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("div",{className:m,children:(0,p.jsx)("textarea",{onChange:e=>l(e.currentTarget.value),value:a,className:_,placeholder:"Enter your message..."})}),(0,p.jsx)("button",{disabled:"ready"!==s,onClick:()=>{a&&(n((0,c._z)(a)),l(""))},className:u,children:"Send"})]})},N=()=>(0,p.jsx)("div",{children:(0,p.jsx)(x,{})})}}]);
//# sourceMappingURL=357.1ac286a7.chunk.js.map