"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[477],{4477:(e,o,s)=>{s.r(o),s.d(o,{default:()=>Q});var a=s(5043);const t={preloader:"ProfileInfo_preloader__U7OiM",profileDataFormWrapper:"ProfileInfo_profileDataFormWrapper__Ni6w3",defaultAvatar:"ProfileInfo_defaultAvatar__eamlK",avatar:"ProfileInfo_avatar__MrKrS",contact:"ProfileInfo_contact__ZAl27",formSummaryError:"ProfileInfo_formSummaryError__24zSM",profileName:"ProfileInfo_profileName__n0CjC",imageWithChangeWrapper:"ProfileInfo_imageWithChangeWrapper__+0Vfh",profileDataForm:"ProfileInfo_profileDataForm__ddHWz",chooseImage:"ProfileInfo_chooseImage__AbDPf",chooseAvatarLabel:"ProfileInfo_chooseAvatarLabel__pW95X",imageBackground:"ProfileInfo_imageBackground__Kin6v",editProfileBtn:"ProfileInfo_editProfileBtn__oAbub",cancelProfileBtn:"ProfileInfo_cancelProfileBtn__YhYbV",MainEditedForm:"ProfileInfo_MainEditedForm__4tOQY",leftColFormData:"ProfileInfo_leftColFormData__C5XMb",nameBlock:"ProfileInfo_nameBlock__HSfph",ProfessionalSkillsBlock:"ProfileInfo_ProfessionalSkillsBlock__zFrHA",AboutMeBlock:"ProfileInfo_AboutMeBlock__XAsEq",Contacts:"ProfileInfo_Contacts__fOoad",profileInfo:"ProfileInfo_profileInfo__sA3y1",profileInfoForm:"ProfileInfo_profileInfoForm__w4gBV",leftColForm:"ProfileInfo_leftColForm__w3+4M",leftColFormNameContainer:"ProfileInfo_leftColFormNameContainer__lKnmx",leftColFormName:"ProfileInfo_leftColFormName__VCokx",lookingForAJobContainer:"ProfileInfo_lookingForAJobContainer__yNmx8",lookingForAJobCheckBox:"ProfileInfo_lookingForAJobCheckBox__9pLXF",myProffessionalSkillsContainer:"ProfileInfo_myProffessionalSkillsContainer__Jo3dG",myProffessionalSkills:"ProfileInfo_myProffessionalSkills__mDitr",aboutMeContainer:"ProfileInfo_aboutMeContainer__Q4ufJ",aboutMe:"ProfileInfo_aboutMe__SQoMj",ContactsFormContainer:"ProfileInfo_ContactsFormContainer__aclxb",ContactsFormContainerVisible:"ProfileInfo_ContactsFormContainerVisible__CUWjX",toggleInfoVisibilityBtn:"ProfileInfo_toggleInfoVisibilityBtn__90KKk"};var r=s(2434);const l="ProfileStatus_profileStatus__O5BOo",i="ProfileStatus_statusStatus__5Dk2W",n="ProfileStatus_statusEditModeInput__U4JTU",c="ProfileStatus_statusValue__R2jmV";var m=s(579);const d=e=>{let[o,s]=(0,a.useState)(!1),[t,r]=(0,a.useState)(e.status);(0,a.useEffect)((()=>{r(e.status)}),[e.status]);return(0,m.jsxs)("div",{className:l,children:[!o&&(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{className:i,children:"Status: "}),(0,m.jsx)("span",{onDoubleClick:()=>{s(!0)},className:c,children:e.status||"Enter your status here"})]}),o&&(0,m.jsx)("div",{children:(0,m.jsx)("input",{autoFocus:!0,onBlur:()=>{s(!1),e.updateStatus(t)},onChange:e=>{r(e.currentTarget.value)},value:t,className:n})})]})};var f=s(3106),u=s(3892),p=s(899),_=s(1963);const h=p.Ik().shape({fullName:p.Yj().required("Required Field").max(21,"Must be 21 characters or less"),lookingForAJobDescription:p.Yj().required("Required Field").max(200,"Must be 200 characters or less"),aboutMe:p.Yj().required("Required Field").max(200,"Must be 200 characters or less")}),x=e=>{let{profile:o,cancelEdit:s,onSubmit:a}=e;return(0,m.jsx)(u.l1,{initialValues:{fullName:o.fullName||"",lookingForAJob:o.lookingForAJob||!1,lookingForAJobDescription:o.lookingForAJobDescription||"",aboutMe:o.aboutMe||"",contacts:o.contacts||{},photos:o.photos||{}},validationSchema:h,onSubmit:a,children:e=>{let{errors:a,touched:r}=e;return(0,m.jsxs)(u.lV,{className:t.MainEditedForm,children:[(0,m.jsxs)("div",{className:t.buttons,children:[(0,m.jsx)("button",{type:"button",className:t.cancelProfileBtn,onClick:s,children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:t.editProfileBtn,children:"Save"})]}),(0,m.jsxs)("div",{className:t.leftColFormData,children:[(0,m.jsxs)("div",{className:t.nameBlock,children:[(0,m.jsx)("b",{className:t.nameTitle,children:"Full name:"}),(0,m.jsx)(u.D0,{name:"fullName",placeholder:"Full name",className:_.A.formControlInput}),(0,m.jsx)(u.Kw,{name:"fullName",component:"span",className:_.A.error})]}),(0,m.jsxs)("div",{className:t.LookingJobBlock,children:[(0,m.jsx)("b",{className:t.LookingJobTitle,children:"Looking for a job:"}),(0,m.jsx)(u.D0,{name:"lookingForAJob",type:"checkbox",className:_.A.formCheckbox})]}),(0,m.jsxs)("div",{className:t.ProfessionalSkillsBlock,children:[(0,m.jsx)("b",{className:t.ProfessionalSkillsTitle,children:"My professional skills:"}),(0,m.jsx)(u.D0,{name:"lookingForAJobDescription",as:"textarea",placeholder:"My professional skills",className:_.A.formControlTextarea}),(0,m.jsx)(u.Kw,{name:"lookingForAJobDescription",component:"span",className:_.A.error})]}),(0,m.jsxs)("div",{className:t.AboutMeBlock,children:[(0,m.jsx)("b",{className:t.AboutMeTitle,children:"About me:"}),(0,m.jsx)(u.D0,{name:"aboutMe",as:"textarea",placeholder:"About me",className:_.A.formControlTextarea}),(0,m.jsx)(u.Kw,{name:"aboutMe",component:"span",className:_.A.error})]})]}),(0,m.jsxs)("div",{className:t.Contacts,children:[(0,m.jsx)("b",{className:t.ContactsTitle,children:"Contacts"}),(0,m.jsx)("hr",{style:{marginBlock:"10px"}}),Object.keys(o.contacts).map((e=>"vk"===e||"mainLink"===e?null:(0,m.jsxs)("div",{className:t.contactBlock,children:[(0,m.jsx)("b",{className:t.contactTitle,children:e}),":",(0,m.jsxs)("div",{children:[(0,m.jsx)(u.D0,{name:"contacts.".concat(e),placeholder:e,className:_.A.formControlInput}),(0,m.jsx)(u.Kw,{name:"contacts.".concat(e),component:"span",className:_.A.error})]})]},e)))]})]})}})},j=e=>{let{profile:o,isOwner:s,goToEditMode:r}=e;const[l,i]=(0,a.useState)(!1);return(0,m.jsxs)("div",{className:t.profileInfo,children:[(0,m.jsx)("div",{className:t.editBtnWrapper,children:s&&(0,m.jsx)("button",{className:t.editProfileBtn,onClick:r,children:"Edit Profile"})}),(0,m.jsxs)("div",{className:t.profileInfoForm,children:[(0,m.jsxs)("div",{className:t.leftColForm,children:[(0,m.jsxs)("div",{className:t.leftColFormNameContainer,children:[(0,m.jsx)("b",{className:t.leftColFormName,children:"Full name:"})," ",o.fullName]}),(0,m.jsxs)("div",{className:t.lookingForAJobContainer,children:[(0,m.jsx)("b",{children:"Looking for a job:"})," ",(0,m.jsx)("div",{style:{color:"rgba(0, 0, 0, 0.8"},className:t.lookingForAJobCheckBox,children:o.lookingForAJob?"yes":"no"})]}),(0,m.jsxs)("div",{className:t.myProffessionalSkillsContainer,children:[(0,m.jsx)("h4",{className:t.myProffessionalSkills,children:"My professional skills:"})," ",(0,m.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.8"},children:o.lookingForAJobDescription})]}),(0,m.jsxs)("div",{className:t.aboutMeContainer,children:[(0,m.jsx)("h4",{className:t.aboutMe,children:"About me:"})," ",(0,m.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.8"},children:o.aboutMe})]})]}),(0,m.jsx)("button",{onClick:()=>{i(!l)},className:t.toggleInfoVisibilityBtn,children:"Show all information \u2193"}),(0,m.jsxs)("div",{className:"".concat(t.ContactsFormContainer," ").concat(l?t.ContactsFormContainerVisible:""),children:[(0,m.jsxs)("div",{className:t.ContactsFormTitleContainer,children:[(0,m.jsx)("b",{className:t.ContactsFormTitle,children:"Contacts:"}),(0,m.jsx)("hr",{style:{marginTop:"10px"}})]}),Object.keys(o.contacts).map((e=>"vk"===e||"mainLink"===e?null:(0,m.jsx)(P,{contactTitle:e,contactValue:o.contacts[e]},e)))]})]})]})},P=e=>{let{contactTitle:o,contactValue:s}=e;return(0,m.jsxs)("div",{className:t.contact,children:[(0,m.jsxs)("b",{children:[o,":"]})," ",(0,m.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.8"},children:s})]})},g=e=>{var o;let{profile:s,status:l,updateStatus:i,isOwner:n,saveProfile:c,savePhoto:u}=e;const[p,_]=(0,a.useState)(!1),[h,P]=(0,a.useState)("");if(!s)return(0,m.jsx)(r.A,{});return(0,m.jsxs)("div",{className:t.profileDataFormWrapper,children:[(0,m.jsxs)("div",{className:t.imageWithChangeWrapper,children:[(0,m.jsxs)("div",{className:t.bntChangeAvatar,children:[(0,m.jsx)("label",{htmlFor:"imageInput",className:t.chooseAvatarLabel,children:(0,m.jsx)("div",{className:t.imageBlock,children:null!==(o=s.photos)&&void 0!==o&&o.large?(0,m.jsx)("img",{src:s.photos.large,alt:"Profile",className:t.avatar}):(0,m.jsx)("img",{src:f.A,alt:"Default avatar",className:t.defaultAvatar})})}),n&&(0,m.jsx)("input",{className:t.chooseImage,id:"imageInput",type:"file",onChange:e=>{var o;null!==(o=e.target.files)&&void 0!==o&&o.length&&u(e.target.files[0])}})]}),(0,m.jsx)(d,{status:l,updateStatus:i,className:t.profileStatus})]}),(0,m.jsxs)("div",{className:t.NameStatusFormWrapper,children:[(0,m.jsx)("div",{className:t.profileName,children:(0,m.jsx)("p",{children:s.fullName})}),(0,m.jsxs)("div",{className:t.profileDataForm,children:[p?(0,m.jsx)(x,{profile:s,cancelEdit:()=>{_(!1)},onSubmit:e=>c(e).then((()=>{_(!1),P("")})).catch((e=>{console.error("Error saving profile:",e),P("Please fill out all fields and try again.")}))}):(0,m.jsx)(j,{goToEditMode:()=>_(!0),profile:s,isOwner:n}),h&&(0,m.jsx)("div",{className:t.errorMessage,children:h})]})]})]})};var v=s(9970);const N="MyPosts_postsBlock__WdcXG",C="MyPosts_postsImageAndHeader__4w2NI",b="MyPosts_InputWithButton__C3f5b",k="MyPosts_posts__4yLu6",F="MyPosts_postsHeader__PyR1g",I="Post_item__8D5w5",A="Post_postImageWrapper__3FLMm",S="Post_postImage__Tt-Vd",M="Post_postMessage__a6qhF",y="Post_likesAndCount__TeX34",B="Post_svgLikes__XAuSF",w="Post_likes__sEgZd",T="Post_likesCount__2GuQw",D="Post_removeButton__I5w1h",J=e=>{const[o,s]=(0,a.useState)(e.likesCount);return(0,m.jsxs)("div",{className:I,children:[(0,m.jsx)("div",{className:A,children:(0,m.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS94-h02nA6tjH-orlYL1CJN7kZ2QCO2ldtww&s",alt:"userPhoto",className:S})}),(0,m.jsx)("div",{className:M,children:e.message}),(0,m.jsxs)("div",{className:y,onClick:()=>s((e=>e+1)),children:[(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 400 400",className:B,children:[(0,m.jsx)("path",{fill:"#059669",d:"m472.06 334l-144.16-6.13c-4.61-.36-23.9-1.21-23.9-25.87c0-23.81 19.16-25.33 24.14-25.88L472.06 270c12.67.13 23.94 14.43 23.94 32s-11.27 31.87-23.94 32M330.61 202.33L437.35 194C450 194 464 210.68 464 227.88v.33c0 16.32-11.14 29.62-24.88 29.79l-108.45-1.73C304 253 304 236.83 304 229.88c0-22.88 21.8-27.15 26.61-27.55M421.85 480l-89.37-8.93C308 470.14 304 453.82 304 443.59c0-18.38 13.41-24.6 26.67-24.6l91-3c14.54.23 26.32 14.5 26.32 32s-11.67 31.67-26.14 32.01m34.36-71.5l-126.4-6.21c-9.39-.63-25.81-3-25.81-26.37c0-12 4.35-25.61 25-27.53l127.19-3.88c13.16.14 23.81 13.49 23.81 31.4s-10.65 32.43-23.79 32.58Z"}),(0,m.jsx)("path",{fill:"#059669",d:"M133.55 238.06A15.85 15.85 0 0 1 126 240a15.8 15.8 0 0 0 7.51-1.92Zm40.59-69.28l.13-.23zc-20.5 35.51-30.36 54.95-33.82 62c3.47-7.07 13.34-26.51 33.82-62"}),(0,m.jsx)("path",{fill:"#059669",d:"m139.34 232.84l1-2a16.27 16.27 0 0 1-6.77 7.25a16.35 16.35 0 0 0 5.77-5.25"}),(0,m.jsx)("path",{fill:"#059669",d:"M316.06 52.62C306.63 39.32 291 32 272 32a16 16 0 0 0-14.31 8.84c-3 6.07-15.25 24-28.19 42.91c-18 26.33-40.35 59.07-55.23 84.8l-.13.23c-20.48 35.49-30.35 54.93-33.82 62l-1 2a16.35 16.35 0 0 1-5.79 5.22a15.8 15.8 0 0 1-7.53 2h-25.31A84.69 84.69 0 0 0 16 324.69v38.61a84.69 84.69 0 0 0 84.69 84.7h48.79a17.55 17.55 0 0 1 9.58 2.89C182 465.87 225.34 480 272 480c7.45 0 14.19-.14 20.27-.38a8 8 0 0 0 6.2-12.68l-.1-.14C289.8 454.41 288 441 288 432a61.2 61.2 0 0 1 5.19-24.77a17.36 17.36 0 0 0 0-14.05a63.8 63.8 0 0 1 0-50.39a17.32 17.32 0 0 0 0-14a62.15 62.15 0 0 1 0-49.59a18.13 18.13 0 0 0 0-14.68A60.3 60.3 0 0 1 288 239c0-8.2 2-21.3 8-31.19a15.63 15.63 0 0 0 1.14-13.64c-.38-1-.76-2.07-1.13-3.17a24.84 24.84 0 0 1-.86-11.58c3-19.34 9.67-36.29 16.74-54.16c3.08-7.78 6.27-15.82 9.22-24.26c6.14-17.57 4.3-35.2-5.05-48.38"})]}),(0,m.jsx)("button",{className:D,onClick:e.onRemove,children:"Remove"}),(0,m.jsx)("div",{className:w,children:"likes"}),(0,m.jsx)("div",{className:T,children:o})]})]})},E=p.Ik().shape({newPostText:p.Yj().max(15,"Max 15 symbols").required("\ud83e\udc1c Required Field")}),V={errorText:"AddNewPostForm_errorText__2Y3lW",postsForm:"AddNewPostForm_postsForm__Qi0nR",addPostBtn:"AddNewPostForm_addPostBtn__i+HZ-",postsText:"AddNewPostForm_postsText__BEKHe",formInput:"AddNewPostForm_formInput__CPBrb"};var O=s(3401);s(2342);const W=e=>(0,m.jsx)("div",{className:V.AddPostsForm,children:(0,m.jsx)(u.l1,{initialValues:{newPostText:""},validationSchema:E,onSubmit:(o,s)=>{let{resetForm:a}=s;e.addPost(o.newPostText),a(),O.oR.success("Post Added!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:O.K9})},children:(0,m.jsxs)(u.lV,{children:[(0,m.jsxs)("div",{className:V.postsText,children:[(0,m.jsx)("img",{className:V.postsImage,src:e.profileImage||f.A,alt:"post-image",style:{width:"40px",borderRadius:"30px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.2)"}}),(0,m.jsx)(u.D0,{name:"newPostText",as:"textarea",placeholder:"Post message",className:V.formInput}),(0,m.jsx)(u.Kw,{name:"newPostText",component:"Form",className:V.errorText}),(0,m.jsx)("button",{className:V.addPostBtn,type:"submit",children:"Add Post"})]}),(0,m.jsx)("div",{children:(0,m.jsx)(O.N9,{})})]})})});var L=s(3003);const R=a.memo((e=>{const o=(0,L.wA)(),s=(0,L.d4)((e=>{var o,s;return null===(o=e.profilePage.profile)||void 0===o||null===(s=o.photos)||void 0===s?void 0:s.small})),a=e.posts.map((e=>(0,m.jsx)(J,{message:e.message,likesCount:e.likesCount,onRemove:()=>{o(v.o1.removePostActionCreator(e.id)),t()}},e.id))),t=()=>O.oR.info("Post Removed!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:O.K9});return(0,m.jsxs)("div",{className:N,children:[(0,m.jsx)("div",{className:C,children:(0,m.jsx)("h3",{className:F,children:"My Posts"})}),(0,m.jsx)("div",{className:b,children:(0,m.jsx)(W,{addPost:o=>{e.addPost(o)},profileImage:s})}),(0,m.jsx)("div",{className:k,children:a})]})})),K={addPost:v.o1.addPostActionCreator},H=(0,L.Ng)((e=>({posts:e.profilePage.posts})),K)(R),q="Profile_Profile__629kk",U=e=>e.profile?(0,m.jsxs)("div",{className:q,children:[(0,m.jsx)(g,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,saveProfile:e.saveProfile,status:e.status,updateStatus:e.updateStatus}),(0,m.jsx)(H,{})]}):null;var X=s(3216),Y=s(5751),z=s(3923);class Z extends a.Component{redirectToMainUser(){var e;const{userId:o}=this.props.match.params;let s=o||(null===(e=this.props.authorizedUserId)||void 0===e?void 0:e.toString());s&&(this.props.getProfilePage(+s),this.props.getStatus(+s))}componentDidMount(){this.redirectToMainUser()}componentDidUpdate(e){this.props.match.params.userId!==e.match.params.userId&&this.redirectToMainUser()}render(){return(0,m.jsx)(U,{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile})}}const Q=(0,z.Zz)((0,L.Ng)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth})),{getProfilePage:v.L_,getStatus:v.BS,updateStatus:v.yB,savePhoto:v.Ah,saveProfile:v.Lt}),(e=>o=>{const s=(0,X.g)();return(0,m.jsx)(e,{...o,match:{params:s}})}),Y.H)(Z)},5751:(e,o,s)=>{s.d(o,{H:()=>i});s(5043);var a=s(3216),t=s(3003),r=s(579);let l=e=>({isAuth:e.auth.isAuth});function i(e){return(0,t.Ng)(l,{})((o=>{let{isAuth:s,...t}=o;return s?(0,r.jsx)(e,{...t}):(0,r.jsx)(a.C5,{to:"/login"})}))}},1963:(e,o,s)=>{s.d(o,{A:()=>a});const a={formControlInput:"FormsControls_formControlInput__IH6cE",formControlTextarea:"FormsControls_formControlTextarea__ymXUO",formCheckbox:"FormsControls_formCheckbox__eG9he",error:"FormsControls_error__b4P29",formControl:"FormsControls_formControl__sC1cx",formSummaryError:"FormsControls_formSummaryError__RnVQJ",createField:"FormsControls_createField__zvZ-q"}}}]);
//# sourceMappingURL=477.d6d6a5ad.chunk.js.map