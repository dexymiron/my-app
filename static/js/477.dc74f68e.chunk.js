"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[477],{4477:(e,s,o)=>{o.r(s),o.d(s,{default:()=>G});var t=o(5043);const a={preloader:"ProfileInfo_preloader__U7OiM",profileDataFormWrapper:"ProfileInfo_profileDataFormWrapper__Ni6w3",defaultAvatar:"ProfileInfo_defaultAvatar__eamlK",avatar:"ProfileInfo_avatar__MrKrS",contact:"ProfileInfo_contact__ZAl27",formSummaryError:"ProfileInfo_formSummaryError__24zSM",profileName:"ProfileInfo_profileName__n0CjC",imageWithChangeWrapper:"ProfileInfo_imageWithChangeWrapper__+0Vfh",profileDataForm:"ProfileInfo_profileDataForm__ddHWz",chooseImage:"ProfileInfo_chooseImage__AbDPf",chooseAvatarLabel:"ProfileInfo_chooseAvatarLabel__pW95X",imageBackground:"ProfileInfo_imageBackground__Kin6v",editProfileBtn:"ProfileInfo_editProfileBtn__oAbub",cancelProfileBtn:"ProfileInfo_cancelProfileBtn__YhYbV",MainEditedForm:"ProfileInfo_MainEditedForm__4tOQY",leftColFormData:"ProfileInfo_leftColFormData__C5XMb",Contacts:"ProfileInfo_Contacts__fOoad",profileInfo:"ProfileInfo_profileInfo__sA3y1",profileInfoForm:"ProfileInfo_profileInfoForm__w4gBV",leftColForm:"ProfileInfo_leftColForm__w3+4M",leftColFormNameContainer:"ProfileInfo_leftColFormNameContainer__lKnmx",leftColFormName:"ProfileInfo_leftColFormName__VCokx",myProffessionalSkillsContainer:"ProfileInfo_myProffessionalSkillsContainer__Jo3dG",myProffessionalSkills:"ProfileInfo_myProffessionalSkills__mDitr",aboutMeContainer:"ProfileInfo_aboutMeContainer__Q4ufJ",aboutMe:"ProfileInfo_aboutMe__SQoMj",ContactsFormContainer:"ProfileInfo_ContactsFormContainer__aclxb",ContactsFormContainerVisible:"ProfileInfo_ContactsFormContainerVisible__CUWjX",toggleInfoVisibilityBtn:"ProfileInfo_toggleInfoVisibilityBtn__90KKk"};var r=o(2434);const l="ProfileStatus_profileStatus__O5BOo",i="ProfileStatus_statusStatus__5Dk2W",n="ProfileStatus_statusEditModeInput__U4JTU",c="ProfileStatus_statusValue__R2jmV";var d=o(579);const m=e=>{let[s,o]=(0,t.useState)(!1),[a,r]=(0,t.useState)(e.status);(0,t.useEffect)((()=>{r(e.status)}),[e.status]);return(0,d.jsxs)("div",{className:l,children:[!s&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{className:i,children:"Status: "}),(0,d.jsx)("span",{onDoubleClick:()=>{o(!0)},className:c,children:e.status||"Enter your status here"})]}),s&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{autoFocus:!0,onBlur:()=>{o(!1),e.updateStatus(a)},onChange:e=>{r(e.currentTarget.value)},value:a,className:n})})]})};var f=o(3106),u=o(7380),h=o(3842),p=o(8779);const _=(0,h.A)({form:"edit-profile"})((e=>{let{handleSubmit:s,profile:o,error:t,cancelEdit:r}=e;return(0,d.jsxs)("form",{onSubmit:s,className:a.MainEditedForm,children:[(0,d.jsxs)("div",{className:a.buttons,children:[(0,d.jsx)("button",{type:"button",className:a.cancelProfileBtn,onClick:r,children:"Cancel"}),(0,d.jsx)("button",{className:a.editProfileBtn,children:"Save"})]}),(0,d.jsxs)("div",{className:a.leftColFormData,children:[t&&(0,d.jsx)("div",{className:a.formSummaryError,children:t}),(0,d.jsxs)("div",{className:a.nameBlock,children:[(0,d.jsx)("b",{className:a.nameTitle,children:"Full name"}),":"," ",(0,u.Fv)("Full name","fullName",[p.Q,(0,p.d)(21)],u.pd)]}),(0,d.jsxs)("div",{className:a.LookingJobBlock,children:[(0,d.jsx)("b",{className:a.LookingJobTitle,children:"Looking for a job"}),":"," ",(0,u.Fv)("","lookingForAJob",[],u.pd,{type:"checkbox"})]}),(0,d.jsxs)("div",{className:a.ProfessionalSkillsBlock,children:[(0,d.jsx)("b",{className:a.ProfessionalSkillsTitle,children:"My professional skills"}),":",(0,u.Fv)("My professional skills","lookingForAJobDescription",[p.Q,(0,p.d)(200)],u.TM)]}),(0,d.jsxs)("div",{className:a.AboutMeBlock,children:[(0,d.jsx)("b",{className:a.AboutMeTitle,children:"About me"}),":",(0,u.Fv)("About me","aboutMe",[p.Q,(0,p.d)(200)],u.TM)]})]}),(0,d.jsxs)("div",{className:a.Contacts,children:[(0,d.jsx)("b",{className:a.ContactsTitle,children:"Contacts"})," ",(0,d.jsx)("hr",{style:{marginBlock:"10px"}}),Object.keys(o.contacts).map((e=>"vk"===e||"mainLink"===e?null:(0,d.jsx)("div",{className:a.contactBlock,children:(0,d.jsxs)("b",{className:a.contactTitle,children:[e,":"," ",(0,u.Fv)(e,"contacts."+e,[(0,p.d)(35)],u.pd)]})},e)))]})]})})),x=e=>{let{profile:s,isOwner:o,goToEditMode:r}=e;const[l,i]=(0,t.useState)(!1);return(0,d.jsxs)("div",{className:a.profileInfo,children:[(0,d.jsx)("div",{className:a.editBtnWrapper,children:o&&(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:a.editProfileBtn,onClick:r,children:"Edit Profile"})})}),(0,d.jsxs)("div",{className:a.profileInfoForm,children:[(0,d.jsxs)("div",{className:a.leftColForm,children:[(0,d.jsxs)("div",{className:a.leftColFormNameContainer,children:[(0,d.jsx)("b",{className:a.leftColFormName,children:"Full name:"})," ",s.fullName]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Looking for a job:"})," ",(0,d.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.8"},children:s.lookingForAJob?"yes":"no"})]}),s.lookingForAJob&&(0,d.jsxs)("div",{className:a.myProffessionalSkillsContainer,children:[(0,d.jsx)("h4",{className:a.myProffessionalSkills,children:"My professional skills:"})," ",(0,d.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.8"},children:s.lookingForAJobDescription})]}),(0,d.jsxs)("div",{className:a.aboutMeContainer,children:[(0,d.jsx)("h4",{className:a.aboutMe,children:"About me:"})," ",(0,d.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.8"},children:s.aboutMe})]})]}),(0,d.jsx)("button",{onClick:()=>{i(!l)},className:a.toggleInfoVisibilityBtn,children:"Show all information \u2193"}),(0,d.jsxs)("div",{className:"".concat(a.ContactsFormContainer," ").concat(l?a.ContactsFormContainerVisible:""),children:[(0,d.jsxs)("div",{className:a.ContactsFormTitleContainer,children:[(0,d.jsx)("b",{className:a.ContactsFormTitle,children:"Contacts:"}),(0,d.jsx)("hr",{style:{marginTop:"10px"}})]})," ",Object.keys(s.contacts).map((e=>"vk"===e||"mainLink"===e?null:(0,d.jsx)(v,{contactTitle:e,contactValue:s.contacts[e]},e)))]})]})]})},v=e=>{let{contactTitle:s,contactValue:o}=e;return(0,d.jsxs)("div",{className:a.contact,children:[(0,d.jsxs)("b",{children:[s,":"]})," ",(0,d.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.8"},children:o})]})},j=e=>{var s;let{profile:o,status:l,updateStatus:i,isOwner:n,saveProfile:c,savePhoto:u}=e,[h,p]=(0,t.useState)(!1),[v,j]=(0,t.useState)("");if(!o)return(0,d.jsx)(r.A,{});return(0,d.jsxs)("div",{className:a.profileDataFormWrapper,children:[(0,d.jsxs)("div",{className:a.imageWithChangeWrapper,children:[(0,d.jsxs)("div",{className:a.bntChangeAvatar,children:[(0,d.jsx)("label",{htmlFor:"imageInput",className:a.chooseAvatarLabel,children:(0,d.jsx)("div",{className:a.imageBlock,children:null!==(s=o.photos)&&void 0!==s&&s.large?(0,d.jsx)("img",{src:o.photos.large,alt:"Profile",className:a.avatar}):(0,d.jsx)("img",{src:f.A,alt:"Default avatar",className:a.defaultAvatar})})}),n&&(0,d.jsx)("input",{className:a.chooseImage,id:"imageInput",type:"file",onChange:e=>{var s;null!==(s=e.target.files)&&void 0!==s&&s.length&&u(e.target.files[0])}})]}),(0,d.jsx)(m,{status:l,updateStatus:i,className:a.profileStatus})]}),(0,d.jsxs)("div",{className:a.NameStatusFormWrapper,children:[(0,d.jsx)("div",{className:a.profileName,children:(0,d.jsx)("p",{children:o.fullName})}),(0,d.jsx)("div",{className:a.profileDataForm,children:h?(0,d.jsx)(_,{initialValues:o,profile:o,onSubmit:e=>{c(e).then((()=>{p(!1),j("")})).catch((e=>{console.error("Error save profile:",e),j("Please filled text and try again")}))},cancelEdit:()=>{p(!1)}}):(0,d.jsx)(x,{goToEditMode:()=>p(!0),profile:o,isOwner:n})})]})]})};var P=o(9970);const g="MyPosts_postsBlock__WdcXG",N="MyPosts_postsImageAndHeader__4w2NI",C="MyPosts_InputWithButton__C3f5b",b="MyPosts_posts__4yLu6",F="MyPosts_postsHeader__PyR1g",k="Post_item__8D5w5",I="Post_postImageWrapper__3FLMm",A="Post_postImage__Tt-Vd",S="Post_postMessage__a6qhF",y="Post_likesAndCount__TeX34",M="Post_svgLikes__XAuSF",w="Post_likes__sEgZd",B="Post_likesCount__2GuQw",T="Post_removeButton__I5w1h",D=e=>{const[s,o]=(0,t.useState)(e.likesCount);return(0,d.jsxs)("div",{className:k,children:[(0,d.jsx)("div",{className:I,children:(0,d.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS94-h02nA6tjH-orlYL1CJN7kZ2QCO2ldtww&s",alt:"userPhoto",className:A})}),(0,d.jsx)("div",{className:S,children:e.message}),(0,d.jsxs)("div",{className:y,onClick:()=>o((e=>e+1)),children:[(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 400 400",className:M,children:[(0,d.jsx)("path",{fill:"#059669",d:"m472.06 334l-144.16-6.13c-4.61-.36-23.9-1.21-23.9-25.87c0-23.81 19.16-25.33 24.14-25.88L472.06 270c12.67.13 23.94 14.43 23.94 32s-11.27 31.87-23.94 32M330.61 202.33L437.35 194C450 194 464 210.68 464 227.88v.33c0 16.32-11.14 29.62-24.88 29.79l-108.45-1.73C304 253 304 236.83 304 229.88c0-22.88 21.8-27.15 26.61-27.55M421.85 480l-89.37-8.93C308 470.14 304 453.82 304 443.59c0-18.38 13.41-24.6 26.67-24.6l91-3c14.54.23 26.32 14.5 26.32 32s-11.67 31.67-26.14 32.01m34.36-71.5l-126.4-6.21c-9.39-.63-25.81-3-25.81-26.37c0-12 4.35-25.61 25-27.53l127.19-3.88c13.16.14 23.81 13.49 23.81 31.4s-10.65 32.43-23.79 32.58Z"}),(0,d.jsx)("path",{fill:"#059669",d:"M133.55 238.06A15.85 15.85 0 0 1 126 240a15.8 15.8 0 0 0 7.51-1.92Zm40.59-69.28l.13-.23zc-20.5 35.51-30.36 54.95-33.82 62c3.47-7.07 13.34-26.51 33.82-62"}),(0,d.jsx)("path",{fill:"#059669",d:"m139.34 232.84l1-2a16.27 16.27 0 0 1-6.77 7.25a16.35 16.35 0 0 0 5.77-5.25"}),(0,d.jsx)("path",{fill:"#059669",d:"M316.06 52.62C306.63 39.32 291 32 272 32a16 16 0 0 0-14.31 8.84c-3 6.07-15.25 24-28.19 42.91c-18 26.33-40.35 59.07-55.23 84.8l-.13.23c-20.48 35.49-30.35 54.93-33.82 62l-1 2a16.35 16.35 0 0 1-5.79 5.22a15.8 15.8 0 0 1-7.53 2h-25.31A84.69 84.69 0 0 0 16 324.69v38.61a84.69 84.69 0 0 0 84.69 84.7h48.79a17.55 17.55 0 0 1 9.58 2.89C182 465.87 225.34 480 272 480c7.45 0 14.19-.14 20.27-.38a8 8 0 0 0 6.2-12.68l-.1-.14C289.8 454.41 288 441 288 432a61.2 61.2 0 0 1 5.19-24.77a17.36 17.36 0 0 0 0-14.05a63.8 63.8 0 0 1 0-50.39a17.32 17.32 0 0 0 0-14a62.15 62.15 0 0 1 0-49.59a18.13 18.13 0 0 0 0-14.68A60.3 60.3 0 0 1 288 239c0-8.2 2-21.3 8-31.19a15.63 15.63 0 0 0 1.14-13.64c-.38-1-.76-2.07-1.13-3.17a24.84 24.84 0 0 1-.86-11.58c3-19.34 9.67-36.29 16.74-54.16c3.08-7.78 6.27-15.82 9.22-24.26c6.14-17.57 4.3-35.2-5.05-48.38"})]}),(0,d.jsx)("button",{className:T,onClick:e.onRemove,children:"Remove"}),(0,d.jsx)("div",{className:w,children:"likes"}),(0,d.jsx)("div",{className:B,children:s})]})]})};var W=o(3892),O=o(899);const V=O.Ik().shape({newPostText:O.Yj().max(15,"Max 15 symbols").required("\ud83e\udc1c Required Field")}),E={errorText:"AddNewPostForm_errorText__2Y3lW",postsForm:"AddNewPostForm_postsForm__Qi0nR",addPostBtn:"AddNewPostForm_addPostBtn__i+HZ-",postsText:"AddNewPostForm_postsText__BEKHe",formInput:"AddNewPostForm_formInput__CPBrb"};var L=o(3401);o(2342);const J=e=>(0,d.jsx)("div",{className:E.AddPostsForm,children:(0,d.jsx)(W.l1,{initialValues:{newPostText:""},validationSchema:V,onSubmit:(s,o)=>{let{resetForm:t}=o;e.addPost(s.newPostText),t(),L.oR.success("Post Added!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:L.K9})},children:(0,d.jsxs)(W.lV,{children:[(0,d.jsxs)("div",{className:E.postsText,children:[(0,d.jsx)("img",{className:E.postsImage,src:e.profileImage||f.A,alt:"post-image",style:{width:"40px",borderRadius:"30px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.2)"}}),(0,d.jsx)(W.D0,{name:"newPostText",as:"textarea",placeholder:"Post message",className:E.formInput}),(0,d.jsx)(W.Kw,{name:"newPostText",component:"Form",className:E.errorText}),(0,d.jsx)("button",{className:E.addPostBtn,type:"submit",children:"Add Post"})]}),(0,d.jsx)("div",{children:(0,d.jsx)(L.N9,{})})]})})});var R=o(3003);const H=t.memo((e=>{const s=(0,R.wA)(),o=(0,R.d4)((e=>{var s,o;return null===(s=e.profilePage.profile)||void 0===s||null===(o=s.photos)||void 0===o?void 0:o.small})),t=e.posts.map((e=>(0,d.jsx)(D,{message:e.message,likesCount:e.likesCount,onRemove:()=>{s(P.o1.removePostActionCreator(e.id)),a()}},e.id))),a=()=>L.oR.info("Post Removed!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:L.K9});return(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("div",{className:N,children:(0,d.jsx)("h3",{className:F,children:"My Posts"})}),(0,d.jsx)("div",{className:C,children:(0,d.jsx)(J,{addPost:s=>{e.addPost(s)},profileImage:o})}),(0,d.jsx)("div",{className:b,children:t})]})})),K={addPost:P.o1.addPostActionCreator},Q=(0,R.Ng)((e=>({posts:e.profilePage.posts})),K)(H),U="Profile_Profile__629kk",Z=e=>e.profile?(0,d.jsxs)("div",{className:U,children:[(0,d.jsx)(j,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,saveProfile:e.saveProfile,status:e.status,updateStatus:e.updateStatus}),(0,d.jsx)(Q,{})]}):null;var z=o(3216),X=o(5751),Y=o(3923);class q extends t.Component{redirectToMainUser(){var e;const{userId:s}=this.props.match.params;let o=s||(null===(e=this.props.authorizedUserId)||void 0===e?void 0:e.toString());o&&(this.props.getProfilePage(+o),this.props.getStatus(+o))}componentDidMount(){this.redirectToMainUser()}componentDidUpdate(e){this.props.match.params.userId!==e.match.params.userId&&this.redirectToMainUser()}render(){return(0,d.jsx)(Z,{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile})}}const G=(0,Y.Zz)((0,R.Ng)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth})),{getProfilePage:P.L_,getStatus:P.BS,updateStatus:P.yB,savePhoto:P.Ah,saveProfile:P.Lt}),(e=>s=>{const o=(0,z.g)();return(0,d.jsx)(e,{...s,match:{params:o}})}),X.H)(q)},7380:(e,s,o)=>{o.d(s,{pd:()=>n,TM:()=>i,Fv:()=>c});o(5043);const t="FormsControls_formControl__sC1cx",a="FormsControls_error__b4P29";var r=o(5963),l=o(579);const i=e=>{let{input:s,meta:o,...r}=e;const i=o.touched&&o.error;return(0,l.jsxs)("div",{className:"".concat(t," ").concat(i?a:""),children:[(0,l.jsx)("textarea",{...s,...r}),i&&(0,l.jsx)("span",{children:o.error})]})},n=e=>{let{input:s,meta:o,...r}=e;const i=o.touched&&o.error;return(0,l.jsxs)("div",{className:"".concat(t," ").concat(i?a:""),children:[(0,l.jsx)("input",{...s,...r}),i&&(0,l.jsx)("span",{children:o.error})]})},c=function(e,s,o,t){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,l.jsxs)("div",{className:"createField",children:[(0,l.jsx)(r.A,{placeholder:e,name:s,component:t,validate:o,...a}),i]})}},5751:(e,s,o)=>{o.d(s,{H:()=>i});o(5043);var t=o(3216),a=o(3003),r=o(579);let l=e=>({isAuth:e.auth.isAuth});function i(e){return(0,a.Ng)(l,{})((s=>{let{isAuth:o,...a}=s;return o?(0,r.jsx)(e,{...a}):(0,r.jsx)(t.C5,{to:"/login"})}))}},8779:(e,s,o)=>{o.d(s,{Q:()=>t,d:()=>a});const t=e=>{if(!e)return"Field is required"},a=e=>s=>{if(s&&s.length>e)return"Max length is ".concat(e," symbols")}}}]);
//# sourceMappingURL=477.dc74f68e.chunk.js.map